SQLCli Release 0.0.68
SQL> loaddriver C:\Users\耿晨雨\Desktop\linkoopdb-jdbc-2.2.3.jar
Driver loaded.
SQL> connect admin/123456
Database connected.
SQL> start LDB EXT Statistics 采集/LDBX001-01 Basic ANALYZE.sql
SQL> -- 清空环境
SQL> drop table t_ANALYZE_base  IF  EXISTS;
java.sql.SQLException: java.net.ConnectException: Connection refused Caused by [Connection refused] in statement [drop table t_ANALYZE_base  IF  EXISTS]
SQL> 
SQL> 
SQL> -- 创建表
SQL> CREATE TABLE IF NOT EXISTS t_ANALYZE_base (
   > EMPNO INT,
   > ENAME VARCHAR(20),
   > JOB VARCHAR(20),
   > MGR INT,
   > HIREDATE DATE,
   > SAL INT,
   > COMM INT,
   > DEPTNO INT);
0 rows affected
SQL> 
SQL> 
SQL> -- 插入数据
SQL> INSERT INTO t_ANALYZE_base VALUES (7369,'SMITH','CLERK',7902,TO_DATE('1980-12-17','yyyy-mm-dd'),800,NULL,20);
java.sql.SQLException: java.net.ConnectException: Connection refused Caused by [Connection refused]
SQL> INSERT INTO t_ANALYZE_base VALUES (7499,'ALLEN','SALESMAN',7698,TO_DATE('1981-2-20','yyyy-mm-dd'),1600,300,30);
java.sql.SQLException: java.net.ConnectException: Connection refused Caused by [Connection refused]
SQL> INSERT INTO t_ANALYZE_base VALUES (7521,'WARD','SALESMAN',7698,TO_DATE('1981-2-2','yyyy-mm-dd'),1250,500,30);
java.sql.SQLException: java.net.ConnectException: Connection refused Caused by [Connection refused]
SQL> ANALYZE TABLE t_ANALYZE_base COMPUTE STATISTICS;
java.sql.SQLException: java.net.ConnectException: Connection refused Caused by [Connection refused] in statement [ANALYZE TABLE t_ANALYZE_base COMPUTE STATISTICS]
SQL> ANALYZE TABLE t_ANALYZE_base COMPUTE STATISTICS WITH HISTOGRAM;
java.sql.SQLException: java.net.ConnectException: Connection refused Caused by [Connection refused] in statement [ANALYZE TABLE t_ANALYZE_base COMPUTE STATISTICS WITH HISTOGRAM]
SQL> ANALYZE TABLE t_ANALYZE_base COMPUTE STATISTICS FOR COLUMNS empno,ename;
java.sql.SQLException: java.net.ConnectException: Connection refused Caused by [Connection refused] in statement [ANALYZE TABLE t_ANALYZE_base COMPUTE STATISTICS FOR COLUMNS empno,ename]
SQL> SELECT * FROM LDB_INFO_SCHEMA.TABLE_STATS WHERE "tableName"='T_ANALYZE';
java.sql.SQLException: java.net.ConnectException: Connection refused Caused by [Connection refused]
SQL> select * from t_ANALYZE ORDER BY EMPNO;
java.sql.SQLException: java.net.ConnectException: Connection refused Caused by [Connection refused]
SQL> exit
Disconnected.
