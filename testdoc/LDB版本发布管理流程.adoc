= LDB版本发布流程管理
manyi
:doctype: article
:encoding: utf-8
:lang: zh
:toc:
:numbered:

==  目的
为了有效控制和追踪产品的版本，保证产品一致性，可追溯性。

== 范围
适用于聚云技术部研发测试的所有数据库产品。


== 产品发布流程

目前聚云使用jenkins作为版本发布工具，部署在http://node9:8888

=== 每日构建版本

通过定时构建，将每天最新的版本发布到http://192.168.1.133:12345/dev/product/version/ +
文件命名为：产品名称-主版本号.子版本号.阶段版本号.构建序号-构建日期.tar.gz +
例如：linkoopdb-2.0.0.132-20190418.tar.gz


=== 阶段性构建版本

通过手动触发构建，将Milestone版本发布到http://192.168.1.133:12345/dev/product/version/
文件命名为：产品名称-主版本号.子版本号.阶段版本号.XX.tar.gz +
其中XX代表各个阶段的简称，可以为M1,M2,RC,GA等 +
例如：linkoopdb-studio-1.1.0-RC1.tar.gz

=== 正式版本

==== 安装包

通过手动触发构建，将正式版本发布到http://192.168.1.133:12345/release/product/version/
文件命名为：产品名称-主版本号.子版本号.构建序号.tar.gz +
例如：linkoopdb-2.0.0-18.tar.gz +
发布正式版本必须要在代码仓库中新建一个分支用来保存这个版本的代码 +

编写RELEASENOTES放到和正式版本文件相同目录下。 +
功能性能等测试报告存放在对应发布版本的report目录下 +


==== 依赖包

产品依赖的组件也需要通过手动触发构建，将依赖组件的安装包发布到和产品相同的目录。 +
文件命名为：组件名称-组件版本号-datapps-适用产品版本号.tar.gz +
例如：spark-2.4.0-datapps-2.0.0.tar.gz




